# Arkanis 环境变量配置示例
# 复制此文件为 .env 并填入实际值

# PostgreSQL 数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=
# 用于创建数据库时连接的“管理库”（通常是 postgres）
DB_ADMIN_DATABASE=postgres

# 数据库拆分：核心业务库 + 市场数据仓库
DB_CORE_DATABASE=arkanis_core
DB_MARKET_DATABASE=arkanis_market_data

# 兼容旧配置（不再推荐，若存在会被当作 market DB）
DB_DATABASE=arkanis_market_data
DB_POOL_MIN=2
DB_POOL_MAX=10

# Lens 配置
# Prompt 模板名称（位于 src/resources/prompts/lens 目录）
PROMPT_NAME=default

# 图表配置
CHART_WIDTH=1280
CHART_HEIGHT=720
CHART_VOLUME_PANE_HEIGHT=0.2
CHART_MACD_PANE_HEIGHT=0.15
CHART_TREND_STRENGTH_PANE_HEIGHT=0.15

# Puppeteer（渲图）
# macOS 如果 `Failed to launch the browser process!`，可优先改用系统 Chrome（需要本机已安装 Chrome）
# CHART_PUPPETEER_CHANNEL=chrome
# 也可以显式指定 Chrome 可执行文件（优先级高于 channel）
# CHART_PUPPETEER_EXECUTABLE_PATH=/Applications/Google Chrome.app/Contents/MacOS/Google Chrome
# 输出 Chrome 进程日志到 Node（排错用）
# CHART_PUPPETEER_DUMPIO=true
# Linux/容器环境如遇沙盒问题可开启
# CHART_PUPPETEER_NO_SANDBOX=true
# 可选：指定 userDataDir（需要可写目录）
# CHART_PUPPETEER_USER_DATA_DIR=/tmp/arkanis-lens-chrome-profile

# 日志配置
# 可选值: debug, info, warn, error, silent
LOG_LEVEL=info

# 默认参数
DEFAULT_SYMBOL=BTCUSDT
DEFAULT_TIMEFRAME=5m
DEFAULT_BARS=200

# 市场数据源（ccxt，多交易所）
# ccxt exchangeId，例如：binance / okx / bybit / coinbase
MARKET_EXCHANGE=binance
# 市场类型：spot | future | swap（兼容 futures）
MARKET_MARKET_TYPE=futures
# 失败切换：逗号分隔的 ccxt exchangeId（可选）
MARKET_EXCHANGE_FALLBACKS=
# 资产类别（为后续股票/外汇预留；当前实现以 crypto 为主）
MARKET_ASSET_CLASS=crypto
# 对于非 crypto 的“交易场所/挂牌地”预留（可选）
MARKET_VENUE=

# ccxt 行为
CCXT_ENABLE_RATE_LIMIT=true
CCXT_TIMEOUT_MS=20000
CCXT_SANDBOX=false

# Telegram（可选：用于 Web 前端推送）
TG_BOT_TOKEN=
TG_CHAT_ID=
# 兼容旧配置（不再推荐）
BINANCE_MARKET=futures

# 开源部署预留（Phase 1D/2E 会落地）
# ALLOW_NO_AUTH=true 仅建议本机开发使用
ALLOW_NO_AUTH=false
# Docker 默认会挂载 /data；本地也可以用 ./data
ARKANIS_DATA_DIR=./data
# secrets 落盘静态加密（可选；建议用随机长字符串）
SECRETS_ENC_KEY=
# 是否开启分享（公开视图）能力（可选）
ENABLE_SHARE=false
